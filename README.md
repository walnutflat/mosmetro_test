# mosmetro_test
Сервис по парсингу новостей с сайта московского метро в БД + API, по которому эти новости можно получить

### Модуль news_parser
Парсит сайт метро и записывает их в БД через ORM. Предполагается запуск в докере по крону. C beautifulsoup не работал, лучшие практики не знаю, при наличии времени больше внимания уделил бы возможным исключениям.

### Модуль news_api
API для получения новостей из БД. Лучших практик по Flask так же не знаю. При наличии времени уделил бы больше внимания логированию (видел, как прикрутить тот же loguru). Получение данных через ORM.

### БД
Предполагается использование postgresql 11. Структура таблицы:
```
 create table metro_news
 (
     news_id   integer not null
         constraint metro_news_pkey
             primary key,
     header    text,
     url_pic   varchar,
     url_news  varchar,
     date      date,
     parsed_at timestamp
 );

 alter table metro_news
     owner to postgres;
```

### Запуск
Каждый из модулей предполагается к запуску в докере в отдельном контейнере. На реальном проекте для модулей нужно было бы сделать разные requirements.txt, но для ускорения здесь один. БД можно запустить как в контейнере, так и использовать другую реализацию,
данные БД указываются в файле конфигурации. На реальном проекте вынес бы в переменную окружения.
